<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="9" MadCap:lastHeight="27487" MadCap:lastWidth="960" MadCap:fileTags="AuthorFileTags.CAREL INDUSTRIES&#160;SpA">
    <head>
        <link href="../../Resources/TableStyles/04_Release_Notes.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/02_Custom.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/Stylesheets/styles.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <p>
            <MadCap:concept term="Priority_MNG" />&#160;</p>
        <h4 style="page-break-before: always;">
            <MadCap:annotation MadCap:createDate="2015-09-07T16:07:09.2925722+02:00" MadCap:creator="vittoriob" MadCap:initials="VB" MadCap:comment="Da implementare un Proxy TOC, per creare il sommario, invece che utilizzare Taghet specifico e opzione in Advance \r\nSeel also http://www.madcapsoftware.com/blog/2015/11/18/guest-post-creating-print-toc-index-glossary-manually-within-madcap-flare/" MadCap:editor="vittoriob" MadCap:editDate="2015-12-09T14:14:10.6668712+01:00">FUNCTIONS / FUNCTION BLOCKS</MadCap:annotation>
        </h4>
        <p>&#160;</p>
        <p MadCap:conditions="CAREL_Hq.Reserved">&#160;</p>
        <p MadCap:conditions="CAREL_Hq.Reserved">Last update 23/10/2015 | Native revision 05/10/2015</p>
        <!--
        <MadCap:tocProxy>&#160;</MadCap:tocProxy> -->&#160;<h4><a name="1_Introduction"></a><span style="margin-right: 0pt;">1 </span>Introduction</h4><p>&#160;</p><p>These guidelines describe the <b>general rules</b> that must be considered by developers when creating a new Function/Function Block (hereinafter called F/FB).</p><p><MadCap:conditionalText MadCap:conditions="CAREL_Hq.Reserved">The document with the entire <b>process flow</b> is <a href="https://svncarel.carel.com/svn/repository_appl/csuite/Miscellaneous#%23%23_Processes_StandardTeam/PRODEV SSD03 Standard Function-Function Block Development Process.doc" target="_blank"><i>PRODEV SSD03 Standard Function-Function Block Development Process.doc</i></a></MadCap:conditionalText><![CDATA[  ]]></p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col style="width: 115px;" class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Language</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">Description of the variables and remarks in <b>English</b>.<br />Pay attention to do not use special characters in the variable description ( " ' ^ ... could be unknown or misunderstood to third parties)</li><li style="list-style-type: disc;">Variable names: in English and in accordance with the <MadCap:conditionalText MadCap:conditions="CAREL_Hq.Reserved"><a href="https://svncarel.carel.com/svn/repository_appl/1tool/Miscellaneous/CarelGroupSoftwareQuality/Files/08_Development/GuideLines/VariableStandardNaming.xls" target="_blank"><b>Variable Standard Naming</b></a></MadCap:conditionalText> <a href="http://ksa.carel.com/group/c.suite/documents?p_p_auth=0CC3Ou3a&amp;p_p_id=20&amp;p_p_lifecycle=0&amp;p_p_state=normal&amp;p_p_mode=view&amp;_20_struts_action=%2Fdocument_library%2Fview&amp;_20_folderId=1003095&amp;#p_20">Variable Standard Naming</a>. </li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Programming language</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The programming language used will be mainly <b>ST</b>.</li><li style="list-style-type: disc;">For managing complex functions and devices , <b>FBD</b> will be used  at the first level, and then <b>ST</b> inside the FBD blocks; this gives more clarity at first sight.</li><li style="list-style-type: disc;">The standard used will be IEC 61131.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Shape</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">Until now, customisation of the shape icon is not available. When the icon is customisable, it will have to be meaningful; if a proper icon is not available, the default  will be used.<br />See Chapter 3 for more details.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Building</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The Demo software used for F/FB development must build without any warnings. The only exception is the WHILE instruction, which  gives a warning when building.<br /><b>Pay attention</b> to the use of WHILE loop:&#160; if ’possible, use a FOR loop!</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Measure Unit</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The F/FB will manage only <b>International System</b> units of measure. Automatic management is available for conversion with the serial line, user interface and I/O.</li><li style="list-style-type: disc;">More details are described in Par. <b>5.7 Measure units</b>.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Library Dependency</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">Use <b>library dependency as little as possible </b> in order to easily maintain the FB&#160; </li></ul></td></tr></table><h5><a name="1_1_Analysis"></a><span style="margin-right: 0pt;">1.1 </span>Analysis before F/FB development </h5><p>There are basic concepts to take into consideration before starting a new F/FB development; brief analysis must be performed of the function or device that is going to be managed.</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>F/FB used more than one time in the same project</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">If there are many F/FB variables that are common, it is suggested to split the F/FB in two parts, one for common parameters and one for the parameters of the single device (typical case: field device management). Split F/FBs must have standard names: <i>F/FBName</i> and <i>F/FBNameCom</i>. See Par. 1.2</li><li style="list-style-type: disc;">The variables will be exchanged using  proper arrays and structures. <br />In FB development, avoid the use of global variables.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>A similar F/FB exists</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">Check whether  there is an existing F/FB which is similar. In this case, consider which functions the new F/FB is going to add or to change. </li><li style="list-style-type: disc;">Obviously the name of the new F/FB must be different, to avoid confusion, if possible the name must suggest the differences from the previous F/FB.</li><li style="list-style-type: disc;">In the documentation of the F/FB (both the new and the old F/FB),  the differences between the blocks  must be explained.</li></ul></td></tr></table><p>&#160;</p><h5><a name="1_2_Name"></a><span style="margin-right: 0pt;">1.2 </span>Name of F/FB</h5><p><a name="_Ref382381000"></a>There are some rules to respect when naming a new F/FB.</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Meaning</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The name must suggest the functions  implemented: it should consist of a VERB-NOUN pair that when combined provides some meaningful information about what the function does.</li><li style="list-style-type: disc;">The F/FB name must be <b>self explanatory</b>: this is more important than complying with VSN standard.</li></ul><p class="ExampleHead">Example:</p><p class="Example">E.g.: Serial Probe function block, if generated with VSN, would be named “PrbSer”; but this is not clear enough. So it was decided to call it SerialProbe.</p>&#160;&#160;<ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">If there are standard names for that function, they must be used, for instance “<i>LimitLow_INT</i>” refers to the standard “<i>Limit</i>” function; “<i>Get…</i>” has to be used for F/FBs that return information, “<i>Set…</i>” for F/FBs that write information, and so on.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>PascalCase and “_”</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The name will use the PascalCase convention; it will be possible to use “_” before and after words written in capital letters and numbers. The “_” will be always used before the data type indication, where present. Examples: <i>Comp_BLDC; CompScrew; Range_INT</i>.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Data type</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The data type will be indicated by the <b>suffix</b> “<i>_DATATYPE</i>” in capital letters, for instance “<i>_INT</i>”, “<i>_REAL</i>”, …except for the standard data type that is assumed to be DINT as the standard IEC F/FB, <b>for DINT there won’t be any suffix</b>, for example: <i>Range_INT, Range, Range_REAL, Rang</i>e.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Split F/FB</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">Split F/FBs must have standard names: <i>F/FBName</i> and <i>F/FBNameCom</i>.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Nested FB</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The F/FBs used only inside the main FB must be named like “<i>nastedFB_FBacronym</i>”, where FBacronym relates to the main FB.</li></ul></td></tr></table><p class="warning" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: Red;&quot; class=&quot;mcFormatColor&quot;&gt;Warning &lt;/span&gt;&lt;/b&gt;">The instance name can't have the same name asthe one used for Data Type or Function Block definition</p><h5><a name="1_3_Name"></a><span style="margin-right: 0pt;">1.3 </span>Name of F/FB library</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p><b>Lib name</b></p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>If the library file contains <b>only a F/FB</b>, the name will be <b>NameFunctionBlock</b> written in lower case (e.g.: VersionChk).</p><p>If the library file contains a <b>series of F/FB</b> the name will be like “CAREL_BASIC_LIB”: all <b>uppercase with underscore</b> between words and “_LIB” at the end (e.g. NAME_LIBRARY_LIB).</p></td></tr></table><h4 style="page-break-before: always;"><a name="_Toc416680580"></a><span style="margin-right: 0pt;">2 </span>F/FB folders structure for Source Control</h4><p MadCap:conditions="World_Wide.All_Customers">This chapter is reserved only for <MadCap:variable name="Azienda.NomeCompleto" />.</p><p MadCap:conditions="World_Wide.All_Customers">&#160;</p><p class="CAREL_World_Subsidiaries" MadCap:conditions="CAREL_World.Reserved" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: #000000;&quot; class=&quot;mcFormatColor&quot;&gt;The use of this information, should be exclusively internal CAREL World [subsidiaries]. Is strictly prohibited disclosure of such documents outside CAREL World [subsidiaries]. &lt;/span&gt;&lt;/b&gt;">&#160;</p><p MadCap:conditions="CAREL_World.Reserved">When creating a F/FB and the related libraries, some rules must be respected for the project folder structure and the software backup.</p><h5 MadCap:conditions="CAREL_World.Reserved"><a name="2_1_Folders"></a><span style="margin-right: 0pt;">2.1 </span>F/FB folder structure</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0" MadCap:conditions="CAREL_World.Reserved"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;">F/FB and F/FB Demo </td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Two folders must be created :</p><ul><li>one for the <b>F/FB source files</b> (\FBname).<br />This first solution must be as  clean as possible, without variables, alarms, dependencies, program POU. It should also contain Functions and Function Blocks in order to correctly create the library.</li><li>one for the <b>Demo</b> software (\Demo_FBname).<br />This must be suitable for testing the typical use of the FB, for instance: 1 demo for Power+ stand alone and 1 demo for Power+, BLDC and EVD EVO (EVD EVO is always necessary if there is the BLDC).<br />Demo must use the library created starting from the solution in the first folder.</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Subfolders</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The subfolders of each of the two folders are those  suitable for Source Control software:</p><p style="font-style: italic;">FBName</p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Binaries</p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Documents </p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; FBName</p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Libraries</p><p style="font-style: italic;">&#160;</p><p style="font-style: italic;">Demo_FBName</p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Binaries</p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Documents </p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Demo_FBName</p><p style="font-style: italic;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Libraries</p></td></tr></table><p>&#160;</p><h5 MadCap:conditions="CAREL_World.Reserved"><a name="_Toc416680582"></a><span style="margin-right: 0pt;">2.2 </span>Subfolders</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0" MadCap:conditions="CAREL_World.Reserved"><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions=""><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Binaries</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p><b>Source code project</b>: none</p><p><b>Demo project</b>: here the stable released backup of Source Control generates an AP1 of the solution without the OS.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions=""><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Documents</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Put here all the documents used during development of the project or testing.</p><p><MadCap:conditionalText MadCap:conditions="CAREL_Hq.Reserved"><MadCap:conditionalText MadCap:conditions="CAREL_Hq.Reserved">The <b>help</b> of the F/FB must be <b>stored in a different place</b>: see the relative <a href="https://svncarel.carel.com/svn/repository_appl/csuite/Miscellaneous#%23%23_Processes_StandardTeam/PRODEV SSD03 Standard Function-Function Block Development Process.doc" target="_blank">process documentation</a></MadCap:conditionalText></MadCap:conditionalText></p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions=""><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>FBname</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>This is the “project” folder that contains the c.suite solution.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions=""><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Libraries</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 11pt;"><li style="list-style-type: disc;">the .otlib file (the library); if the FB manages a device the otlib must also contain the template, see Par.9.1 for the details.</li><li style="list-style-type: disc;">The AP1 file manually generated by developer with OS</li></ul></td></tr></table><p>&#160;</p><h5 MadCap:conditions="CAREL_World.Reserved"><a name="_Toc416680583"></a><span style="margin-right: 0pt;">2.3 </span>F/FB and library backup</h5><p MadCap:conditions="CAREL_World.Reserved">For the F/FB and librariy  backup,  <b>SourceControl</b> will be used, integrated into c.suite. </p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0" MadCap:conditions="CAREL_World.Reserved"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>ReleasedLib</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The released library is obtained from the library source files; it is an .<i>otlib</i> file that will be published. It must be created manually before Source Control backup.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Source Control</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>After creating the folder described in 2.1, the solution can be backed up using Source Control.</p><p>This  stores all the content of the <i>Documents</i>, <i>ProjectName</i> and <i>Libraries</i> folders. </p><p>Pay attention to the <i>Binaries</i> folder: this is cleared on each stable release.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>From which tool</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p style="font-weight: normal;">Backup on the trunk: c.strategy or c.mask</p><p style="font-weight: normal;">Stable Release: c.design </p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Stable Release</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The stable release is possible <b>only from c.design</b>.</p><p>This clears the <i>Binaries</i> folder, builds the solution, creates the AP1 file without OS and stores it in the <i>Binaries</i> folder.</p><p>It is mandatory to create an AP1 which contains the OS and store this manually in the <i>Library</i> folder.</p></td></tr></table><p>&#160;</p><h4><a name="3."></a>3. Variables organization, names and flags</h4><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_VariableOrganization.png" /></p><table style="mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Demo variables</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p><b>Where</b></p><p>These variables have to be LOCAL variables of the POU; Global variables are allowed only in case of sharing with other POus of the Demo.</p><p><b>Name</b></p><p>Their name must be “<i>PinName_FBInstanceNumber</i>”.</p><p><b>Flag</b></p><p>These variables have to contains only UI-RETAIN-IO-LOG-DEV flags.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;">Pin In/Out variables</td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p><b>Where</b></p><p> LOCAL variables with "In" or "Out" Pin direction attribute</p><p><b>Name</b></p><p>Their name have to be “<i>VariableName_FBacronym</i>”, where “<i>VariableName</i>” should follow the Variable Standard Naming. This is necessary to avoid conflicts with other global variables used in the application software.</p><p><b>Flag</b></p><p>No flags are allowed for these variables</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p> Protocol variables</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p><b>Where</b></p><p>All the variables shared with the device (through the Protocol Template) must be LOCAL variables of the Function Block, and have to be grouped inside the same structure.<br />Other variables used to manage the template (Template enable, Device Error, Device Error Code, etc..) have ot be LOCAL variables of the Funciton Block and have to stay outside of the previous structure.</p><p><b>Name</b></p><p>Variables shared with the device (through the Protocol Template)  have to be written in the following way:</p><p>TypeOfRegister_VariableAddress_VariableName</p><p><i>For example: "HR_14_SpeedReq"</i></p><p>Types of register are: </p><ul><li>HR (Holding Register)</li><li>IR (Input Register)</li><li>DI (Discrete Input)</li><li>C (Coil)</li></ul><p><b>Flag</b></p><p>PROTOCOL flag</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;">Other variables</td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p><b>Where</b></p><p>These variables are used only for internal logic of the Function Block: they have to be LOCAL variables with Pin directions attribute set to "Var"</p><p><b>Name</b></p><p>There are no particular restrictions for these variables; it is suggested to set simple names that recall the functionality.<br />Comments should be inserted anyway.</p><p><b>Flag</b></p><p>No flags are allowed for these variables</p></td></tr></table><p>&#160;</p><h4 style="page-break-before: always;"><a name="3_Shape"></a><span style="margin-right: 0pt;">4 </span>Shape</h4><p>There are some aspects to be considered when creating the shape of the F/FB that will be used in the FDB editor.</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>VAR_INPUT and VAR_OUTPUT order </p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The <b>order</b> of the VAR_INPUT/VAR_OUTPUT should follow some rules, which  are listed in the table here below. </li><li style="list-style-type: disc;">The table below shows the typical VAR_INPUT/VAR_OUTPUT <b>categories</b> and the suggested order in F/FB shape.</li><li style="list-style-type: disc;">The <b>VAR_INPUT</b> and <b>VAR_OUPUT</b> relating to the same parameter (VAR_IN_OUT) <b>must be placed at the top</b> of the function block, following the same order between input and output<br /><br />See also <i>VAR_IN_OUT</i> section in paragraph 6.4 (<i>F/FB VAR_INPUT and VAR_OUTPUT</i>)</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Limitations</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">The <b>maximum number</b> of VAR_INPUT and VAR_OUTPUT is <b>128</b> in total, this limit includes the internal variables and the instances of internal F/FB.<br />Therefore, sometimes <b>it is necessary to use structures</b>. In this way similar VAR_INPUT/VAR_OUTPUT are grouped together. </li><li style="list-style-type: disc;">In order to maintain clear structures, limit as much as possible the number of the deep levels.</li></ul></td></tr></table><p>&#160;</p><p>&#160;</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><thead><tr class="TableStyle-02_Custom-Head-Header2"><th class="TableStyle-02_Custom-HeadE-Default-Header2"><p>ORDER</p></th><th class="TableStyle-02_Custom-HeadE-Default-Header2"><p>VAR_INPUT</p></th><th class="TableStyle-02_Custom-HeadD-Default-Header2"><p>VAR_OUTPUT</p></th></tr></thead><tbody><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>1</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>VAR_INPUT_OUTPUT</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>VAR_INPUT_OUTPUT</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>2</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>Addresses</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Request management and output control  parameters </p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>3</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>Variables coming from I/O&#160; (temperatures, pressures, enabling…)</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Variables sent to I/O&#160; </p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>4</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>Arrays and structures</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Measurements</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>5</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>Thresholds, set points, differentials</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Status and On/Off management</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>6</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>Timings and delay parameters</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Limits</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>7</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>UOM selection</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Warning and alarm variables</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>8</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>Parameters for forcing</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>&#160;</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>9</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>Parameters reset and default installation&#160; </p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>&#160;</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyB-Default-DarkerRows"><p>10</p></td><td class="TableStyle-02_Custom-BodyB-Default-DarkerRows"><p>Enable (parameters or alarms)</p></td><td class="TableStyle-02_Custom-BodyA-Default-DarkerRows"><p>&#160;</p></td></tr></tbody></table><p>&#160;</p><p>Here below is an  example of a FB shape. In the example there are some of the categories listed in the table above, and some structures used are visible, such as “EEV_Params” or “EEV_Measures”.</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GuideLine_F_FB_shape.png" class="FiftyPercent" /></p><p>&#160;</p><h4 style="page-break-before: always;"><a name="4_Style"></a><span style="margin-right: 0pt;">5 </span>Style</h4><p>The style of F/FB must follow some rules, for FBD and ST language. These will be the standards automatically applied when opening a new solution. It is strictly necessary to use these settings to avoid different styles inside applications (when importing POUs the properties of the imported POU are inherited and not converted into the application properties)</p><table style="width: 876px; mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col class="TableStyle-02_Custom-Column-Default" /><col style="width: 808px;" class="TableStyle-02_Custom-Column-Default" /><tr class="TableStyle-02_Custom-Body-LightRows"><td style="font-weight: bold;" class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>ST</p><p>&#160;</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">Font Courier New; 10 pt</li><li style="list-style-type: disc;">Colors as in the following picture:<br /><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000008.png" class="SeventyFivePercent" /></li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td style="font-weight: bold;" class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>FBD</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">Colors as follows </li></ul><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><thead><tr class="TableStyle-02_Custom-Head-Header2"><th class="TableStyle-02_Custom-HeadE-Default-Header2">&#160;</th><th class="TableStyle-02_Custom-HeadE-Default-Header2"><p>BACKGROUND COLOR</p></th><th class="TableStyle-02_Custom-HeadE-Default-Header2"><p>BACKGROUND GRADIENT COLOR</p></th><th class="TableStyle-02_Custom-HeadD-Default-Header2"><p>TRANSPARENCY</p></th></tr></thead><tbody><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>FB</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>LightGray</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>LightGray</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>255</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Variable</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>SkyBlue</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows"><p>SkyBlue</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>255</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyB-Default-LightRows" style="font-weight: bold;"><p>Constant</p></td><td class="TableStyle-02_Custom-BodyB-Default-LightRows"><p>White</p></td><td class="TableStyle-02_Custom-BodyB-Default-LightRows"><p>White</p></td><td class="TableStyle-02_Custom-BodyA-Default-LightRows"><p>255</p></td></tr></tbody></table><p>&#160;</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col class="TableStyle-02_Custom-Column-Default" style="width: 81px;" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><thead><tr class="TableStyle-02_Custom-Head-Header2"><th class="TableStyle-02_Custom-HeadE-Default-Header2">&#160;</th><th class="TableStyle-02_Custom-HeadE-Default-Header2"><p>BACKGROUND COLOR</p></th><th class="TableStyle-02_Custom-HeadE-Default-Header2"><p>HEADER COLOR</p></th><th class="TableStyle-02_Custom-HeadE-Default-Header2"><p>TRANSPARENCY</p></th><th class="TableStyle-02_Custom-HeadD-Default-Header2"><p>HEADER TRANSP.</p></th></tr></thead><tbody><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyB-Default-LightRows" style="font-weight: bold;"><p>Region</p></td><td class="TableStyle-02_Custom-BodyB-Default-LightRows"><p>LightGreen</p></td><td class="TableStyle-02_Custom-BodyB-Default-LightRows"><p>DarkGray</p></td><td class="TableStyle-02_Custom-BodyB-Default-LightRows"><p>32</p></td><td class="TableStyle-02_Custom-BodyA-Default-LightRows"><p>255</p></td></tr></tbody></table><p>&#160;</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col class="TableStyle-02_Custom-Column-Default" style="width: 187px;" /><col class="TableStyle-02_Custom-Column-Default" /><thead><tr class="TableStyle-02_Custom-Head-Header2"><th class="TableStyle-02_Custom-HeadE-Default-Header2" style="font-weight: bold;">&#160;</th><th class="TableStyle-02_Custom-HeadD-Default-Header2"><p>BACKGROUND COLOR</p></th></tr></thead><tbody><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyB-Default-LightRows" style="font-weight: bold;"><p>Comment</p></td><td class="TableStyle-02_Custom-BodyA-Default-LightRows"><p>CornSilk</p></td></tr></tbody></table><p>&#160;</p></td></tr></table><p>&#160;</p><h4 style="page-break-before: always;"><a name="5_c.strategy"></a><span style="margin-right: 0pt;">6 </span>c.strategy</h4><h5><a name="5_1_Execution"></a><span style="margin-right: 0pt;">6.1 </span>Execution order of FBD</h5><p>For the first level of the FB, written in FDB, the execution order of the blocks must be taken into consideration.</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p><b>Automatic or manual execution order</b></p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The execution order must be <b>automatic</b>: this processes FBs from the left to the right and from the top to the bottom.</p></td></tr></table><h5><a name="5_2_stcode"></a><span style="margin-right: 0pt;">6.2 </span>ST code</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows"><p><b>Header file</b></p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Each ST file must have the following header with a general description and the main output:</p><p>&#160;</p><pre>(*&#160; ---------------------------------------------------------------------<br style="font-style: italic;" />Description:<br style="font-style: italic;" />a general description of the F/FB behavior<br style="font-style: italic;" />the main output of the F/FB<br style="font-style: italic;" />&#160;&#160;&#160; --------------------------------------------------------------------- *)</pre></td></tr></table><h5><a name="5_3_variables"></a><span style="margin-right: 0pt;">6.3 </span>F/FB variables</h5><p>&#160;</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Global/Local variables</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The use of global variables is not possible in the F/FB source solution.</p><p>In Demo solution, the use of <b>global variables</b> is only possible if some variables need to be shared between different POUs.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Common VAR_INPUT and VAR_OUTPUT</p><p>between F/FBs</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>If two VAR_INPUT or VAR_OUTPUT of different F/FBs need to be connected together, the name of the two parameters must be the same.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Alarm variables</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>For the alarms,  ALM structures are used. These structures <b>can’t be used</b> inside the F/FB, because they are global variables.</p><p>For more details refer to <i>Alarms Management</i> paragraph. </p></td></tr></table><h5><a name="5_4_varinput"></a><span style="margin-right: 0pt;">6.4 </span>F/FB VAR_INPUT and VAR_OUTPUT</h5><p>All the variables that could be used in the c.strategy must be “Parameters” (VAR_INPUT or VAR_OUTPUT) of the function block. It is recommended to <b>use structures to group together variables that refer to the same topic</b>. </p><p>To decide whether or not a variable should be a parameter , it's use must be considered , that is, if the value of the variable is modified during unit operation or only during configuration.</p><p>All parameters used in the screen and in the algorithm must be put on shape. </p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Data type</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The data type used for the parameters should be the smallest suitable for the value represented.</p><p>values coming from <b>probes</b>: REAL</p><p><b>timing</b>: UDINT</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Memory type</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The VAR_INPUT cannot be RETAIN.</p><p>The VAR_OUTPUT can be RETAIN but this is not recommended.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>VAR_IN_OUT</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Since VAR_IN_OUT are not available it is necessary to create a VAR_INPUT and a VAR_OUTPUT. The name will be “<i>VariableName<b>In</b></i>” for the VAR_INPUT and “<i>VariableName</i>” for the VAR_OUTPUT.</p><p>The first action of the F/FB will be to copy the value of VAR_INPUT variable to the VAR_OUTPUT variable, then only the VAR_OUTPUT will be used in the algorithm inside F/FB.</p><p>The copying process must be executed also with the FB disabled in order to maintain the variable values at the output: the application may overwrite its value.</p><p style="text-align: center;"><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000009.png" style="width: 540px;height: 245px;" /></p><p>Inside FB the first operation is to copy the input to the output, as shown in the following example:</p><p style="text-align: center;"><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300000A.png" style="visibility: visible;width: 309px;height: 96px;" /></p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Alarms</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Refer to <i>Alarms Management</i> paragraph. </p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Device number </p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>If the FB manages a device, it does not have the device number as a VAR_INPUT, because this is only used in the screens.</p><p>In c.mask it is recommended to create in ST code a parameter with the number of the device to use to mark the relative screen. In the case of a second device, duplicate the screens, create a new parameter; update the parameter on all the screens.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Suffix</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>If the FB manages a device, the parameters (VAR_INPUT/VAR_OUTPUT) must follow the Variable Standard Naming and have a short suffix that identifies the name of the FB. An example is shown in the picture above.</p><p>In this way, it will be easy to recognize the variable shared to protocol, supervisor or screen.</p></td></tr></table><h5><a name="5_5_Datatypes"></a><span style="margin-right: 0pt;">6.5 </span>F/FB Data Types Table</h5><p>If the block uses <i>structures</i>, <i>arrays</i> or <i>defined words</i>, these must follow subsequent rules:</p><ul style="list-style-type: disc;margin-left: 19pt;"><li style="list-style-type: disc;">they must be defined with <b>capital letters</b>;</li><li style="list-style-type: disc;">they must <b>end with “_FBacronym”</b>;</li></ul><p>Other prefixes or suffixes (Lst_, Array_, _Struct, …) are deprecated.</p><p class="ExampleHead">Example:</p><p class="Example">for an array relating to the DEVROT function block:<br />DEVROT_CIRCUIT_ARRAY is <b>not correct</b>, CIRCUIT_ DEVROT is <b>correct</b><br /><br />for a structure relating to the EVD_Emb function block:<br />CFG_COMM_PARAMS is <b>not correct</b>, CFG_COMM_PARAMS_EVDEMB is <b>correct</b></p><h5><a name="5_6_fbenabling"></a><span style="margin-right: 0pt;">6.6 </span>F/FB enabling </h5><p>Each F/FB must have a VAR_INPUT  that enables  the F/FB.</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Name</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The name of the enabling variable will be “<i>En_F/FBacronym</i>”</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Data type</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>BOOL</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Behaviour</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>When the <i>En_F/FBacronym</i> variable is FALSE:</p><ul style="list-style-type: disc;margin-left: 0pt;"><li style="list-style-type: disc;">all the F/FBs used inside the F/FB are disabled</li><li style="list-style-type: disc;">the outputs are zeroed (not the output relative to VAR_IN_OUT, see Par. 6.4 F/FB VAR_INPUT and VAR_OUTPUT)</li><li style="list-style-type: disc;">the alarm variables are reset</li><li style="list-style-type: disc;">the timings are reset</li><li style="list-style-type: disc;">finally, the execution of the code inside the F/FB is jumped</li></ul></td></tr></table><h5><a name="_Ref382380880"></a><a name="5_7_Measure"></a><span style="margin-right: 0pt;">6.7 </span>Units of measure</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>F/FB units of measure</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The units of measure used inside the F/FB c.strategy will refer to <b>International System with “bar”</b>. See also <i>Measure Units</i> section in paragraph 7.1 (<i>F/FB user interface</i>)</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Set UoM column</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The UoM column in Local Variables view must be set correctly in accordance with the nature of the variables</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300000B.png" style="visibility: visible;width: 558px;height: 98px;" /></p><p>&#160;</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Unit of measure of the device</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>A VAR_INPUT named “<i>UnitMeasure_FBname</i>”,  tells to the FB the unit of measure currently in use by the device (see image in the next item):</p><ul style="list-style-type: disc;margin-left: 11pt;"><li style="list-style-type: disc;">FALSE : °C / bar</li><li style="list-style-type: disc;">TRUE : °F / PSI</li></ul><p>&#160;</p><p>The FB must manage the UoM conversion of the protocol serial line according to this VAR_INPUT information, so that the values coming to the strategy are always aligned withthe international system.</p><p>In the following example, the parameter “UnitMeasure_HUMS_1” is both input and output asit can be changed by the user from the screen.</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300000C.png" style="width: 550px;height: 250px;" /></p></td></tr></table><h5><a name="5_8_Default"></a><span style="margin-right: 0pt;">6.8 </span>Default management</h5><p>In order to protect Carel know how, the low level defaults must be written  inside the source code.</p><p>The user defaults are <b>delegated to the application</b> through the initial value or .DEV file</p><h5><a name="5_9_Alarms"></a><span style="margin-right: 0pt;">6.9 </span>Alarm management</h5><p>In order to use the alarm management embedded in c.suite (Alarm editor), only the alarm status must be managed by the F/FB.</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Pinout</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>ALM structure cannot be used inside the F/FB, because alarms are managed as global variables.</p><p>For this reason it is necessary to provide a VAR_OUTPUT, which must be connected to the “<i>xxx.Trigger</i>” variable of the ALM structure.</p><p>For the “<i>xxx.Active</i>” variable, evaluate whether  or not the VAR_INPUT variable is necessary in the F/FB, depending on whether it is used inside the F/FB logic. </p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Grouped alarms </p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>All the alarm status must be exposed as VAR_OUTPUT of the F/FB. </p><p>If there is more than one alarm, these can be grouped into one or more structures.<br />The name of the data type structures must be “ALRM_FBacronym”. This is necessary to avoid conflicts with other structures used in the application software. </p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300000D.png" style="width: 477px;height: 237px;" /></p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>OR of the alarms</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>If the F/FB has many alarms, the OR of these could be useful to be provided by the F/FB. If the alarms are exposed using a structure, the OR of the alarms must be the first element  of it, in this way it is open for future implementation.&#160; </p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Alarm reset</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The F/FB manages the alarm status only, in this way it will be possible to choose all reset types <b>from the application</b>.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Offline</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>If the F/FB manages a device via serial line, it must expose <b>two VAR_OUTPUT</b> with the <b>online</b> and <b>offline</b> status of the device.</p><p>For more details see chapter 7.</p></td></tr></table><h5><a name="5_10_nvram"></a><span style="margin-right: 0pt;">6.10 </span>NVRAM management</h5><p>The write to NVRAM is very  delicate. There is no  global table of the use of different memory locations , so it's the responsibility of the software developer to keep NVRAM mapped </p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>No NVRAM write inside FB
					</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>In order to avoid misalignment in the NVRAM address table, <b>no block can manage the memory write</b>.</p><p>Each FB receives the reading of the memory and puts the value to be saved to the output.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;">Pin</td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>the pin for the management of the NVRAM&#160;reading and writing must contain the acronym _NVRAM_ as shown in the following example</p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_NVRAMpins.png" class="FiftyPercentThumbnail" /></td></tr></table><h5><a name="5_11_ffbversion"></a><span style="margin-right: 0pt;">6.11 </span>F/FB version</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>F/FB version</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>In order to keep track of the F/FB version, only for the official F/FB documented, this must be written  in the <b>Comment</b> form of the “Parameters” property of F/FB.</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300000E.png" style="width: 587px;height: 611px;" class="FiftyPercent" /></p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Edit Solution Info</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>If the solution contains more than one F/FB, the Version property of Edit Solution Info must be aligned with the <b>higher  version</b> of those F/FBs present.</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300000F.png" style="width: 302px;height: 302px;" /></p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;">Version number</td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>if the library contains only one function or function block (there is only one F or FB visible):</p><ul><li>the version of the library must be aligned with the version of the F/FB</li></ul><p class="ExampleHead">Example </p><p class="ExampleMiddleSection"><i style="font-weight: bold;">DevicesRotation_3.1.1.0.otilib</i> is the library file; it's version is <b>1.1.0</b></p><p class="Example">It contains only <i style="font-weight: bold;">DevicesRotation_3</i> FB; it must be  version <b>1.1.0</b></p><p>&#160;</p><p>If the library contains  more than one function or function block:</p><ul><li>the library version must be independent from that of the single F/FB contained inside</li><li>each F/FB has independent versions from each other;<br />F/FB version number must be updated after modification</li></ul><p class="ExampleHead">Example</p><p class="Example"><table style="width: 100%; mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><tbody><tr class="TableStyle-02_Custom-Body-LightRows"><td style="text-align: center;" class="TableStyle-02_Custom-BodyE-Default-LightRows">COMP_MNG_LIB<br />v.1.0.0</td><td style="text-align: center;" class="TableStyle-02_Custom-BodyE-Default-LightRows">COMP_MNG_LIB<br /><b>v.1.1.0</b></td><td style="text-align: center;" class="TableStyle-02_Custom-BodyE-Default-LightRows">COMP_MNG_LIB<br /><b>v.1.2.0</b></td><td style="text-align: center;" class="TableStyle-02_Custom-BodyD-Default-LightRows">COMP_MNG_LIB<br /><b>v.1.3.0</b></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyB-Default-DarkerRows">CompStep v.1.0.0<br />EnvPwr v.1.0.0<br />DefCompStep v.1.0.0</td><td class="TableStyle-02_Custom-BodyB-Default-DarkerRows">CompStep <b>v.1.1.0</b><br />EnvPwr v.1.0.0<br />DefCompStep v.1.0.0</td><td class="TableStyle-02_Custom-BodyB-Default-DarkerRows">CompStep v.1.1.0<br />EnvPwr <b>v.1.1.0</b><br />DefCompStep v.1.0.0</td><td class="TableStyle-02_Custom-BodyA-Default-DarkerRows">CompStep <b>v.1.2.0</b><br />EnvPwr v.1.1.0<br />DefCompStep v.1.0.0</td></tr></tbody></table></p></td></tr></table><h4 style="page-break-before: always;"><a name="6_c.mask"></a><span style="margin-right: 0pt;">7 </span>c.mask</h4><h5><a name="6_1_ffbUI"></a><span style="margin-right: 0pt;">7.1 </span>F/FB user interface</h5><p>The worksheets are created in the demo software, also used for testing the F/FB. In some particular cases the user interface of the F/FB must be supplied as worksheets to be imported (for instance for the device management FBs).</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>UI flag</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The variables relative to the F/FB that could be used onthe user interface must be <b>local variables of the POU</b> where the F/FB is defined and used.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Worksheets</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The screens relating to the <b>main management of the F/FB must be collected in a single worksheet</b> named in the same way as the F/FB. It could be helpful to add the suffix with the number of the instance. </p><p>The other management necessary for the demo (alarms, languages, …) must be placed in a different worksheet, so that it is possible not to export them.</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000010.png" style="width: 308px;height: 252px;" /></p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Screens</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The layout of these screens must follow the general rules of the user interface development. For more details see the Project Template documentation under the paragraph “<i>Menu management</i>” .</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Font</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows">Before starting work in c.mask, select in Layout Parameter the “CAREL_TERM_INT” font in order to have a complete set of characters&#160;<br /><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GuideLine_F_FB_Font.png" style="width: 327px;height: 241px;" /></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Multiline text</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>To write multiline text, <b>do not use word wrap</b> but use two different text boxes</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>ST function</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Pay attention to the use of ST functions in c.mask.</p><p>Do not bind to the key to any function that modifies the state of a variable: this could be dangerous when importing a new template after the first.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Units of measure</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p> Units of measure are<b>managed by OS</b>. Pay attention to the input <b>field limits</b> that <b>must be variables</b>, to  consider the proper units of  measure to be shown.</p><p>The variable for the UI zone to be used in the screen for the name of the unit of measure must be a global variable named <b>STD_UOM_ZONE_UI</b> (DINT). See also <i>F/FB measure units</i> section in paragraph 6.7 (<i>Measure Units</i>)</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Access level (passwords)</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The access levels (passwords) will not be managed by the FB user interface, but the screens must be arranged in such a way that it is easy to add the password when the final user adds the FB into their application software.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;">Key Binding</td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><b>Pay attention:</b> the import/export worksheet is not able to store the ST function associated with the key at a global level.</td></tr></table><h5><a name="6_2_Specialize"></a><span style="margin-right: 0pt;">7.2 </span>Specialize CLASSES and ST functions</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Name</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>In order to make consistent&#160; the export library and to facilitate the import of the FB template, it is necessary add to the definition of classes and ST functions, <b>suffixed with the acronym</b> of the FB, as done for the parameters (VAR_INPUT/VAR_OUTPUT).</p><p>The picture below shows an example for Humisonic (HUMS) :</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000013.png" style="visibility: visible;width: 413px;height: 295px;" /></p></td></tr></table><h5><a name="6.3_Mask_template"></a>7.3 Mask template</h5><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col style="width: 22px;" class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><tr class="TableStyle-02_Custom-Body-LightRows"><td style="font-weight: bold;" class="TableStyle-02_Custom-BodyE-Default-LightRows"><p>Mask style</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>some simple rules for a clear mask and tidy:</p><ul><li><b>First row: </b>the <b>Device name</b> in reverse black; it must take maximum 15 characters to allow the insertion of the mask code</li><li><b>Second row</b>: the mask or parameters function <b>description</b></li><li><p>the parameter description must take at most 15 characters to allow the insertion of the parameter code; it's good practice put the value of the parameter in the line below the description to allow the insertion of a code in front of the description and to have more space for the text</p></li><li>The <b>index</b> of the parameter will not  be present</li></ul><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_templateFunctionBlockMask.png" class="FiftyPercentThumbnail" /></p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td style="font-weight: bold;" class="TableStyle-02_Custom-BodyE-Default-DarkerRows">LOOP</td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The name of the mask loop must be the <b>Device name</b> write in uppercase.</p><p>&#160;</p><p>All the screens in a FB must be collected in a single <b>loop</b> and grouped together considering the different access levels.</p><p>The loop will be arranged in such a way that it is easy to recognize the different topics, so that the final developer can move the screens in their application as they prefer.</p><p>It is also possible to add empty screens to describe  the meaning of the following screens.</p><p>Here is an example:</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000011.png" style="visibility: visible;width: 437px;height: 439px;" /></p></td></tr></table><h4 style="page-break-before: always;"><a name="7_c.design"></a><span style="margin-right: 0pt;">8 </span>c.design</h4><h5><a name="7_1_ffb_IO"></a><span style="margin-right: 0pt;">8.1 </span>F/FB I/O management </h5><p>The demo project used during F/FB development must contain at least one connection between an I/O and a variable, otherwise the c.pCO watchdog will be activated. Therefore, even if it is not necessary, at least one variable must be connected to an I/O. </p><h5><a name="7_2_Ffbprotocol"></a><span style="margin-right: 0pt;">8.2 </span>F/FB protocol management </h5><p>The protocol management of a F/FB is created using the Demo.</p><p>Each serial line must be linked to its own port.</p><p><MadCap:conditionalText MadCap:conditions="CAREL_Hq.Reserved">For specific information on Carel and Modbus protocol implementation (both master and slave) see the relative <a href="https://svncarel.carel.com/svn/designstandards/trunk/Modbus Protocol/" target="_blank">documentation</a>.</MadCap:conditionalText></p><p>&#160;</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Serial port settings</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The serial port settings (protocol, baud rate, stop bit, parity) are managed <b>by the final application</b>, for this reason a F/FB <b>must not</b> manage these.&#160; </p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Templates (.txt)</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>In  the Demo, all the necessary <b>templates</b> must be created (one for each protocol managed). </p><p>For the standard file naming, refer to chapter 9.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Online - Offline</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Every F/FB must have <b>2 VAR_OUTPUT</b>:</p><ul style="list-style-type: disc;margin-left: 11pt;"><li style="list-style-type: disc;">Online (OnlineStatus in the following example)</li><li style="list-style-type: disc;">Offline (Al_Offline).</li></ul><p>The <b>device status comes from</b> the variable connected to “device error” in <b>Protocol Editor</b> (<i>DevErr in the example</i>). This one must be a local variable in theFB and can be used fordebug monitoring.</p><p>In order to perform the line status management, use the standard FB "<i>SerialStatus</i>":</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_serialStatus.jpg" class="FiftyPercentThumbnail" /></p><p>Here following the source code:</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_serialStatusSourceCode.png" class="FiftyPercent" /></p><p>&#160;</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>ReadPoll – NoWrite</p><p>ReadOnLine – NoWrite</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GuideLine_F_FB_readPoll_noWrite.png" class="FiftyPercent" /></p><p>All the variables in the FB must be Local</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>NoRead – WriteChange</p><p>NoRead – WritePoll</p><p>Noread – WriteChange – WriteOnLine</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GuideLine_F_FB_noRead_WriteChange.png" class="FiftyPercent" /></p><p>All the variables in the FB must be Local</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>ReadPoll –WriteChange</p><p>&#160;</p><p>ReadPoll –WriteChange – WriteOnLine</p><p>&#160;</p><p>ReadOnline - WriteChange</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>If a parameter could be changed simultaneously by device and by algorithm, it is necessary to create a function block that manages such concurrency.</p><p>This management should:</p><ol style="list-style-type: decimal;margin-left: 11pt;" start="1"><li>When the input value (used in the algorithm) changes, it must be copied to the shared variable protocol.</li><li>When the shared variable protocol changes, it must be copied to the variable used in the algorithm.</li><li>If both variables change during the same program cycle, the value of the variable used in algorithm has priority and must be copied to the shared variable protocol.</li></ol><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GuideLine_F_FB_ReadPoll_WriteChange.png" class="FiftyPercent" /></p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Command delay configuration</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>To have a good performance in serial line communication (i.e. without exception errors), it is necessary to know how to set the communication parameters that c.design allows to be managed.</p><p>The new family of c.pCO controllers requires the setting of the new “Command Delay (ms)” parameter.</p><p>The “Command Delay” should be not less than the value calculated with the following formula, derived from ModBus standard:</p><p>&#160;</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300001C.png" style="width: 510px;height: 105px;" class="FiftyPercentThumbnail" /></p><p>&#160;</p><p>In some cases, the Slave is slower than the standard: for this reason, if communication with that device gives some exception errors, it is important to increase the “Command Delay” time until communication works without errors.</p><p>&#160;</p><p>The known cases until  today are the following:</p><ul style="list-style-type: disc;margin-left: 11pt;"><li style="list-style-type: disc;">Inverter Power Plus,&#160; for which the recommended Command Delay setting is 10  ms</li><li style="list-style-type: disc;">Slave pCO with BIOS, set to 40  ms</li><li style="list-style-type: disc;">Ziehl Abegg fan, this is a special case dependent on the application.</li></ul><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GuideLine_F_FB_CmdDelay.png" class="FiftyPercent" /></p></td></tr></table><p><MadCap:conceptLink term="Priority_MNG" /></p><h4 style="page-break-before: always;"><a name="8_LT"></a><span style="margin-right: 0pt;">9 </span>Library Template</h4><h5><a name="_Ref382381178"></a><a name="_Toc416680605"></a>Library Template</h5><p>&#160;</p><p>Each library can contain a template in order to store and bring all the information necessary to the FB (UoM, flag, alarms..).</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>How to create the Template</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>After creation of the .otlib file, open it as a “<i>zip</i>” file and create a new folder named "<i>Templates</i>". This must be written as in the example, with the first letter uppercase.</p><p>Inside the new folder, put the files relating  to the necessary information:</p><ul style="list-style-type: disc;margin-left: 11pt;"><li style="list-style-type: disc;">Alarm table template</li><li style="list-style-type: disc;">POUs of the demo</li><li style="list-style-type: disc;">Screen  template</li><li style="list-style-type: disc;">DEV template</li><li style="list-style-type: disc;">tERA template</li><li style="list-style-type: disc;">Protocol template</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Alarm table</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The .txt files must be prepared with standard naming: <b>NameFB_AlrmTable_.txt</b></p><p class="note" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: #bed230;&quot; class=&quot;mcFormatColor&quot;&gt;Note &lt;/span&gt;&lt;/b&gt;">Remember to write the "_" (underscore) at the end of the name</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>POU</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>This file is created by exporting the program POU, it allows the FB and the variables related  to the VAR_INPUT/VAR_OUTPUT  to be imported directly . </p><p>The POUs must contain all management that is strictly necessary and not the auxiliary management, which is only necessary for the demo software.</p><p>Standard naming: <b>NameFB_Programs.pp1</b></p><p>X.Y.Z = F/FB Version</p><p>D = Demo version </p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Worksheet</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>The .wp1 file, obtained by exporting the Worksheets “as template”, contains all the screens, global variables, Classes and ST code relating to that terminal (also the timed loop defined into ST code).</p><p>Itis  really important to clean all the ST code of the code that is not used.</p><p>Standard naming: <b>NameFB_Worksheets.wp1</b></p><p>X.Y.Z = F/FB Version</p><p>D = Demo version</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>DEV</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>For Dev configuration, the .txt files must be prepared with standard naming: <b>NameFB_Dev.txt</b></p><p>Be careful to clean the export file from parameters that are unnecessary for the FB.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>tERA</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>For tERA configuration, the .txt files must be prepared with standard naming: <b>NameFB_tERAcfg.txt</b></p><p>Be careful to clean the export file from parameters that are unnecessary for  the block</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Protocol</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>Protocol configuration for  FBs that provide a communication with a device. <br />Standard naming: <b>NameFB_Protocol_TemplateName.txt</b></p><p>Protocol example: <i>MBM (ModbusMaster), CMST (CarelMaster)</i>.</p></td></tr></table><h4 MadCap:conditions="World_Wide.All_Customers">10 Reserved</h4><p>&#160;</p><h4 style="page-break-before: always;" MadCap:conditions="CAREL_Hq.Reserved"><a name="9_ReleasedKSA"></a><span style="margin-right: 0pt;">10 </span>Released in KSA</h4><h5 MadCap:conditions="CAREL_Hq.Reserved"><a name="_Toc416680607"></a>Released in KSA</h5><p MadCap:conditions="CAREL_Hq.Reserved">Each F/FB is released on KSA with a kit consisting of:</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="CAREL_Hq.Reserved"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;" MadCap:conditions=""><p MadCap:conditions="">Library</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>In order to create the .otlib file, it is necessary to clean the solution of alarms, global variables and POUs. The solution must only contain Fs and FBs that will be included in the .otlib. Then right click on project &gt; Export &gt; Export Library, press CTRL + SHIFT + D and check “Store as Carel library”.</p><p style="font-weight: normal;">Standard naming is by default: <b>NameFB_X.Y.Z.otlib<br /></b>Save the library in "Library" Storage Tool folder.</p><p>X.Y.Z = F/FB Version</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="CAREL_Hq.Reserved"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;" MadCap:conditions=""><p>F/FB Documentation</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Documentation must be made with Contributor or Flare (Madcap software, ask for the license).<br />For templates and guides on how to create documentation go <a href="http://swdocs.carel.locale/HTML5/15_Tecnical_Documentation/Content/Home.htm">here</a></p><p>Since the online help has been released, there's no need to create .pdf documentation.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="CAREL_Hq.Reserved"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;" MadCap:conditions="">Demo solution</td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Source file of the demo (see “project” on storage tool) with standard name:</p><p><b>demo_NameFB_X.Y.Z.D_src.zip</b></p><p>X.Y.Z = F/FB Version</p><p>.D = Demo version <br /><br />This file have to be exported with the Storage Tool Solution Browser, that automatically creates the .zip file</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="CAREL_Hq.Reserved"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;" MadCap:conditions="">Binary demo file (.ap1)</td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions="">The .ap1 files, also containing the OS, must be prepared for testing the FB on a c.pCO. These  refer to the demo software. <br /><br />Standard naming: <b>demo_NameFB_X.Y.Z.D_ c.desingdescription_corex _bin.ap1<br /></b>Save the library in "Library" Storage Tool folder.<br /><br />X.Y.Z = F/FB Version<br />D = Demo version<br />c.desingdescription = <img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_0300001F.png" style="width: 257px;height: 58px;" /><br /><br />corex = "core0" or "core1", both version must be created</td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="CAREL_Hq.Reserved"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;" MadCap:conditions=""><p>Demo documentation</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Documentation must be made with Contributor or Flare (Madcap software, ask for the license).<br />For templates and guides on how to create documentation go <a href="http://swdocs.carel.locale/HTML5/15_Tecnical_Documentation/Content/Home.htm">here</a></p><p>Since the online help has been released, there's no need to create .pdf documentation.</p></td></tr></table><h4 style="page-break-before: always;"><a name="10_Foot"></a><span style="margin-right: 0pt;">11 </span>Footprint and other statistics</h4><p>&#160;</p><p>The footprint must be indicated for the F/FB as  medium/big , which typically needs a demo to be explained, in particular for those that manage a device.</p><p>The footprint must be written in the technical features of the F/FB documentation.</p><p>The footprint must be calculated at the first official version and updated after every major modification</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>What</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><ul style="list-style-type: disc;margin-left: 11pt;"><li style="list-style-type: disc;">Data memory</li><li style="list-style-type: disc;">Retain</li><li style="list-style-type: disc;">Program cycle time </li><li style="list-style-type: disc;">Modbus/Carel polling time </li></ul></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Data memory</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Open a new solution and check the proprieties of the resource called “<i>Memory usage (Data)</i>”.</p><p>Import the FB library, create a POU with an instance of the FB and build the solution.</p><p>Check the proprieties of the “<i>Memory usage (Data)</i>”  resource .</p><p>The <b>difference between the two readings</b> is  the data memory occupation of the FB. </p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000020.png" style="width: 305px;height: 338px;" /></p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Retain</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>After a build, c.strategy checks the proprieties of the “<i>Memory usage (retain space)</i>” resource</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000021.png" style="width: 305px;height: 338px;" /></p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" style="font-weight: bold;"><p>Program cycle time</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows"><p>Pcyc = Pcyc FB enable – Pcyc FB disabled</p><p>Pcyc: Program cycle</p><p>Pcyc FB enable: Program cycle with FB enabled</p><p>Pcyc FB disable: Program cycle with FB disabled</p><p>The program cycle is shown on the  “<i>Application Statistics</i>” screen</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000022.png" style="width: 219px;height: 117px;" /></p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;"><p>Polling time</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>The polling time is information returned by OS; remember to link a variable to the serial line property.</p><p><img src="../../Resources/Images/7_Guidelines/GuideLines_F_FB/GL_F_FB_03000023.png" style="width: 350px;height: 186px;" /></p></td></tr></table><h5>Communication test</h5><p>For each device FB, it is important to test serial communication.</p><table style="width: 100%; mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col style="width: 366px;" class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><tbody><tr class="TableStyle-02_Custom-Body-LightRows"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" style="font-weight: bold;">Log of error codes</td><td class="TableStyle-02_Custom-BodyD-Default-LightRows"><p>in c.design, create a new "event" log in order to monitor the following variables:</p><ul><li>DeviceError <i>(0:online, 1:offline, 2:wrong msg, 3:exception, 4:connecting)</i></li><li>DeviceErrorCode</li><li>Errors ID</li></ul><p>Start the hardware simulation and let the system work.</p><p>After a considerable time, export the log and verify whether offline or other problems have occured:</p><p>The DeviceError should be always be equal to zero (online), never equal to 1 (offline), 2 (wrong message) or 3 (exception).</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows"><td class="TableStyle-02_Custom-BodyB-Default-DarkerRows" style="font-weight: bold;"><p>Traffic analysis</p></td><td class="TableStyle-02_Custom-BodyA-Default-DarkerRows"><p>Conduct  visual analysis of traffic using an external sniffer (e.g. MSB-RS485). In order to make analysis easier, set a polling delay of over 500  ms and a retry equal to 3.</p><p><b style="font-style: italic;">Initial Connection:</b></p><ol style="list-style-type: lower-alpha;"><li>slave switched off</li><li>start sniffing</li><li>enable FB (serial communication)</li><li>with slave offline, master should make 3 retries all without response</li><li>alarm offline occurs </li></ol><p><b style="font-style: italic;">Normal communication:</b></p><ol style="list-style-type: lower-alpha;"><li>slave switched on</li><li>start sniffing</li><li>enable FB (serial communication)</li><li>each command from the master receives a response from the slave</li></ol><p class="ExampleHead">Example of communication between master and slave</p><p class="Example"><img src="../../Resources/Images/2_CAREL_Devices/EVD_Emb/exOfComm.png" class="SeventyFivePercentThumbnail" /></p><p><b style="font-style: italic;">Return from Offline:</b></p><ol style="list-style-type: lower-alpha;"><li>slave online</li><li>start sniffing</li><li>disable communication</li><li>slave offline</li><li>enable communication</li><li>slave must return online at the first retry. At the first polling, it must make all the "online" commands <i>(so the first polling after the return from offline is longer than others)</i></li></ol><p>&#160;</p></td></tr></tbody></table><p>&#160;</p><h4><a name="11"></a>12 Release notes</h4><p>Following are notes on this document released versions:</p><table class="TableStyle-04_Release_Notes" style="mc-table-style: url('../../Resources/TableStyles/04_Release_Notes.css'); width: 80%; margin-left: 0; margin-right: auto; " cellspacing="0"><col class="TableStyle-04_Release_Notes-Column-Release" /><col class="TableStyle-04_Release_Notes-Column-Dependecies" /><thead><tr class="TableStyle-04_Release_Notes-Head-Header1"><th class="TableStyle-04_Release_Notes-HeadE-Release-Header1">Release</th><th class="TableStyle-04_Release_Notes-HeadD-Dependecies-Header1">Notes</th></tr></thead><tbody><tr class="TableStyle-04_Release_Notes-Body-LightRows"><td class="TableStyle-04_Release_Notes-BodyB-Release-LightRows">2.2.0</td><td class="TableStyle-04_Release_Notes-BodyA-Dependecies-LightRows">• First official release</td></tr></tbody></table><p>&#160;</p><p MadCap:conditions="CAREL_Hq.Reserved">TODO:</p><ol><li MadCap:conditions="CAREL_Hq.Reserved">gestione <b>4° stato</b>: c'è il dubbio che il codice usato fino ad oggi e proposto nelle linee guida soffra di un baco ne caso non avvenga correttamente il riconoscimento dello stato 4. Se non lo vede cosa succede? da verificare</li><li MadCap:conditions="CAREL_Hq.Reserved"><b>cmdDelay</b>: la formula proposta è sempre valida a prescindere dal frame usato</li></ol><h4 style="page-break-before: always;" MadCap:conditions="Hidden.Hidden_Status"><a name="11_Revision"></a>13 Revisions</h4><p MadCap:conditions="Hidden.Hidden_Status">&#160;</p><table style="mc-table-style: url('../../Resources/TableStyles/02_Custom.css'); mc-table-style-original: url('../../Resources/TableStyles/02_Custom.css');" class="TableStyle-02_Custom" cellspacing="0"><col style="width: 96px;" class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><col style="width: 219px;" class="TableStyle-02_Custom-Column-Default" /><col class="TableStyle-02_Custom-Column-Default" /><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Revision</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Date</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Author</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Notes</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>1.0</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>09/07/2013</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Cristina Carraro</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>First draft.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>1.1</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>19/07/2013</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Cristina Carraro</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Added explanation on RETAIN variables.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>1.2</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>24/07/2013</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Cristina Carraro</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Added explanation on alarm variables. Changed convention on use of “_” in the names. Changed unit of measure management.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>1.3</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>07/08/2013</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Cristina Carraro</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Improved F/FB enabling description.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>1.4</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>07/03/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Cristina Carraro</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Completely revised.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>1.5</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>25/03/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Cristina Carraro</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Minor fixes tothe entire document.</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>1.6</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>23/06/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Added some details about the standard naming of files inthe chapter “Files to prepare (export)” </p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>1.7</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>27/06/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Gianpaolo Dall’Occo</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Added some details on exported file versioning</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>1.8</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>16/07/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Update the style of the page. Added c.suite logo on first page.</p><p>Added chapter “Alarms management”</p><p>Added guidelines onserial port configuration (see chapter 6.2)</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>1.9</p><p>&#160;</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>21/07/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Riccardo Scicchitano</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Added chapter “F/FB Data Types”</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.0</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>30/07/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Added guidelines on library dependency in chapter “1 Introduction”</p><p>Added some comments to be analysedduring the document review</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>19/08/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Changed chapter 7 “Files link to F/FB”: table divided between files for Library and files for Demo.</p><p>Updated chapter 6 “F/FB protocol management” </p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.1</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>19/08/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Gianpaolo Dall’Occo</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Added some comments and modified description of some points in chapter 6.</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1.2</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>21/08/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Started to the chapter 8 “Footprint”</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.3</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>27/08/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Upgraded chapter 7 “Files link to F/FB”</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1.4</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>17/11/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Added notes about variable readpoll-WriteOnChange<br />and about the suffix of the pin of device FBs</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.5</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>15/12/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Started the GPO process: updated the F/FB guidelines</p><ul style="list-style-type: square;margin-left: 11pt;"><li>VNC to VSN variable standard naming</li><li>Release notes moved below</li><li>The icon in the shape is not customidable</li><li>The F/FB name could not respect the VSN </li><li>Location of the .otlib file is “library” folder and not “binary”</li><li>Execution order paragraph modified</li><li>Added soame TO DO</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1.6</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>22/12/2014</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Some modifications in 2.2 and 4.3</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.7</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>12/01/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><ul style="list-style-type: square;margin-left: 11pt;"><li>Add link to process documentations</li><li>2.1 added the description of the folder contents</li><li>2.2 deleted two paragraphs: Documents and SourceCodeFB</li><li>4.2 global variables modified</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1.8</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>02/03/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Modified the entire section on the file kits (today templates)</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.9</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>05/03/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Completed notes onvariable ReadPoll-WriteChange etc…</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1.10</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>09/09/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Review and read</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.11</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>12/03/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Stefano Zonato</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Added comments onST function of UI + image for the pin UoM </p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1.12</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>16/03/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Fracesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>Added new image for the UoM pins</p><p>Added alert for the use of ST function</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.13</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>25/03/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Applied the changes discussed during the review</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>2.1.14</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>07/04/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>New positioning of VAR_IN_OUT pins and other minor changes</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>2.1.15</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>13/04/2015</p></td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><ul style="list-style-type: square;margin-left: 11pt;"><li>limited as much as possible the number of deep levels</li><li>multiline text</li><li>command delay management</li></ul></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">2.1.16</td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">12/06/2015</td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">Francesco Roveron</td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions="">New cross reference between similar paragraphs (5.7 with 6.1, 5.4 with 3)</td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">2.1.17</td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">09/07/2015</td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions=""><p>Francesco Roveron</p></td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>Added communication test paragraph</p><p>Integrated version numbering paragraph</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">2.1.18</td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">?</td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">Francesco Roveron</td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions=""><p>- Deleted shortcut necessary in order to create Carel Library from section 9.1 </p><p>- Added warning at the end of section 1.2 (<i>The instance name can't have the same name asthe one used for Data Type or Function Block definition</i>)</p><p>- Added to section 6.1 "<i>Import/export worksheet</i>"</p></td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">2.1.19</td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">23/10/2015</td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">Francesco Roveron</td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions=""><p>- add 6.3</p><p>- update 1.1: do not use special characters in the variable description</p><p>- update 5.10: NVRAM pin name (add example)</p><p>- update 7.2</p><p>&#160;</p></td></tr><tr class="TableStyle-02_Custom-Body-LightRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">2.2.0</td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">26/11/2015</td><td class="TableStyle-02_Custom-BodyE-Default-LightRows" MadCap:conditions="">Gianluca Carraro</td><td class="TableStyle-02_Custom-BodyD-Default-LightRows" MadCap:conditions="">- Added Official release notes</td></tr><tr class="TableStyle-02_Custom-Body-DarkerRows" MadCap:conditions="Hidden.Hidden_Status"><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">2.2.1</td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">23/06/2016</td><td class="TableStyle-02_Custom-BodyE-Default-DarkerRows" MadCap:conditions="">Gianluca Carraro</td><td class="TableStyle-02_Custom-BodyD-Default-DarkerRows" MadCap:conditions="">- Added chapter 3. Variables organization, names and flags</td></tr></table><p>&#160;</p></body>
</html>