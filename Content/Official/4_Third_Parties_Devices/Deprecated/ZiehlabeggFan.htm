<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="6" MadCap:lastHeight="3469.667" MadCap:lastWidth="975" MadCap:fileTags="AuthorFileTags.CAREL INDUSTRIES&#160;SpA">
    <head>
        <link href="../../../Resources/TableStyles/01_Technical_Features.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Resources/TableStyles/04_Release_Notes.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Resources/TableStyles/03_Input_Output.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Resources/TableStyles/03_Input_Output.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Resources/TableStyles/03_Input_Output.css" rel="stylesheet" MadCap:stylesheetType="table" /><title></title>
        <link href="../../../Resources/Stylesheets/styles.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h4>ZiehlAbeggFan</h4>
        <p class="descriptionshort">ZiehlAbegg® fan management via Modbus Master protocol</p>
        <p class="warning" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: Red;&quot; class=&quot;mcFormatColor&quot;&gt;Warning &lt;/span&gt;&lt;/b&gt;">Block no longer in use and replaced by module ZiehlAbeggFan_2.</p>
        <p class="descriptionshort">
            <img src="../../../Resources/Images/4_Third_Parties_Devices/Ziehl/ZiehlabeggFan.jpg" class="OneHundredPercentThumbnail" />
        </p>
        <h5 style="mc-locked: locked;">Technical features</h5>
        <table class="TableStyle-TechFeatures" style="margin-left: 0;margin-right: auto;width: 80%;mc-table-style: url('../../../Resources/TableStyles/01_Technical_Features.css');" cellspacing="0">
            <col class="TableStyle-TechFeatures-Column-Feature" style="width: 100px;" />
            <col class="TableStyle-TechFeatures-Column-Value" />
            <col class="TableStyle-TechFeatures-Column-Notes" />
            <thead>
                <tr class="TableStyle-TechFeatures-Head-Header1">
                    <th class="TableStyle-TechFeatures-HeadE-Feature-Header1">Feature</th>
                    <th class="TableStyle-TechFeatures-HeadE-Value-Header1">Value</th>
                    <th class="TableStyle-TechFeatures-HeadD-Notes-Header1" style="mc-locked: locked;">Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr style="height: 25pt;" class="TableStyle-TechFeatures-Body-Row1" MadCap:conditions="CAREL_Hq.Reserved">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1">Last update</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">16/07/2014</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr style="height: 25pt;" class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: locked;">Program Organization Unit type</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">Function block </td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr style="height: 25pt;" class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: locked;">c.suite version</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">≥ 1.4.73</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: locked;">Hardware</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">c.pCO family controller</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: locked;">O.S.</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">≥ 1.4.000</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: locked;">Compatibility with other F/FB</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: locked;">Compatible CAREL device P/Ns</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: locked;">Device manual</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">Please see <a href="http://www.ziehl-abegg.com/" title="ZIEHL - ABEGG website" alt="ZIEHL - ABEGG website">ZIEHL - ABEGG website</a></td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: locked;">Device firmware</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: locked;">Password</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: locked;">Protocols</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">Modbus Master</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyB-Feature-Body1" style="mc-locked: locked;">Footprint</td>
                    <td class="TableStyle-TechFeatures-BodyB-Value-Body1">RAM
:102 kB<br />Retain:
71 B<br />Program cycle time: 2 ms
<br />Carel Master polling time:-<br />Modbus Master polling time: 100 ms<br /></td>
                    <td class="TableStyle-TechFeatures-BodyA-Notes-Body1">-</td>
                </tr>
            </tbody>
        </table>
        <h5 style="mc-locked: locked;">General operations</h5>
        <p>The ZiehlAbeggFan function block controls a Ziehl-Abegg fan via Modbus protocol. </p>
        <p>&#160;</p>
        <p>The following can be controlled with this function block: </p>
        <ul>
            <li>
                <p>Speed settings in “absolute speed” [rpm] or modulating interval “0 … 100.0%”.</p>
            </li>
            <li>Force shutdown via Modbus</li>
            <li>
                <p>Acceleration and deceleration time</p>
            </li>
            <li>
                <p>Rotation direction</p>
            </li>
            <li>
                <p>Power, voltage and current consumption reading</p>
            </li>
            <li>
                <p>Motor and alarm status</p>
            </li>
            <li>
                <p>Fan address change</p>
            </li>
            <li>
                <p>Communication parameter change (parity, baudrate)</p>
            </li>
        </ul>
        <p>The fan only starts to turn when the request exceeds the minimum activation threshold. The fan then starts to modulate according to the request.</p>
        <p>If the request drops under the minimum speed, the fan continues to turn at minimum speed and only stops when the request equals 0 (see Figure 1).</p>
        <p>&#160;</p>
        <p>
            <img src="../../../Resources/Images/4_Third_Parties_Devices/Ziehl/ZiehlabeggFan_Request.jpg" class="OneHundredPercentThumbnail" />
        </p>
        <p>&#160;</p>
        <p class="suggestion" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: Yellow;&quot; class=&quot;mcFormatColor&quot;&gt;Tip &lt;/span&gt;&lt;/b&gt;">For further information on fan functions, available models and more, visit <a href="http://www.ziehl-abegg.com/" title="ZIEHL - ABEGG website" alt="ZIEHL - ABEGG website">ZIEHL - ABEGG website</a></p>
        <p>
            <h5>Fan address change and communication parameters</h5>
            <p>You can change the fan address, baudrate and parity settings using the ZiehlAbeggFan function block.</p>
            <p>This lets you adapt fan communication parameters to the connected network.</p>
            <p class="note" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: #bed230;&quot; class=&quot;mcFormatColor&quot;&gt;Note &lt;/span&gt;&lt;/b&gt;">The fan communication parameters changing procedure starts only if the device is online</p>
            <p>&#160;</p>
            <p>Follow the steps below to change the address:</p>
            <ul>
                <li>Set the variable SerialInterface_ZA.SerDevCfg.DevAddr to the new address</li>
                <li>Set the variable SerialInterface_ZA.SerDevCfg.StartChgAddr to TRUE</li>
                <li>Check the variable FanStatus_ZA.CommChgStatus, it changes according to procedure progress.</li>
            </ul>
            <p>See the following diagram, it describes the change address procedure:</p>
            <p>
                <img src="../../../Resources/Images/4_Third_Parties_Devices/Ziehl/ZiehabeggFan_address.bmp" class="OneHundredPercentThumbnail" />
            </p>
            <p>Follow the steps below to change the baudrate and parity configuration:</p>
            <ul>
                <li>Set the variables SerialInterface_ZA.FanSerialInterface.Baudrate and SerialInterface_ZA.FanSerialInterface.ParityConf to the new values</li>
                <li>Set the variable SerialInterface_ZA.FanSerialInterface.StartCommChange to TRUE</li>
                <li>Check the variable FanStatus_ZA.CommChgStatus, it changes according to procedure progress.</li>
            </ul>
        </p>
        <h5>Communication  settings</h5>&#160;<p>For communications via serial protocol, download the device templates from website <a href="http://ksa.carel.com/">KSA</a></p><p>ZiehlabeggFan requires the following template</p><p class="InnerTitle">Modbus Master</p><ol><li>Ziehlabegg_MBM_1.0.0.0.txt</li></ol><h5>Inputs</h5><p class="InnerTitle">Block pin list</p><table class="TableStyle-03_Input_Output" style="mc-table-style: url('../../../Resources/TableStyles/03_Input_Output.css'); margin-left: 0; margin-right: auto; width: 80%; mc-table-style-original: url('../../../Resources/TableStyles/03_Input_Output.css');" cellspacing="0"><col class="TableStyle-03_Input_Output-Column-Variable" /><col class="TableStyle-03_Input_Output-Column-Type" /><col class="TableStyle-03_Input_Output-Column-UM" /><col class="TableStyle-03_Input_Output-Column-Description" /><thead><tr class="TableStyle-03_Input_Output-Head-Header1"><th class="TableStyle-03_Input_Output-HeadE-Variable-Header1">Variable</th><th class="TableStyle-03_Input_Output-HeadE-Type-Header1">Data types</th><th class="TableStyle-03_Input_Output-HeadE-UM-Header1">UM</th><th class="TableStyle-03_Input_Output-HeadD-Description-Header1">Description </th></tr></thead><tbody><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">SpeedReq_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">REAL</td><td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Speed Request in [0 -100.0%] or [rpm] according to Speed Control mode</td></tr><tr class="TableStyle-03_Input_Output-Body-DarkerRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">FrcOff</td><td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">BOOL</td><td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Force off (FALSE= it can run, TRUE= it is forced off)</td></tr><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">SerialInterface_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">ZIEHLABEGG_SER_INTERFACE</td><td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Serial interface parameters (timeout, command delay, etc.)</td></tr><tr class="TableStyle-03_Input_Output-Body-DarkerRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">FanCtrlMode_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">ZIEHLABEGG_FAN_CTRL_MODE</td><td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Fan control mode parameetrs (Speedtype, ramp up/down time, ecc..)</td></tr><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">FanSkipRanges_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">ZIEHLABEGG_SKIP_SPEED_RANGES</td><td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Fan speed skip ranges</td></tr><tr class="TableStyle-03_Input_Output-Body-DarkerRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">RestoreFactorySettings_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">BOOL</td><td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Restore fan factory settings</td></tr><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyB-Variable-LightRows">En_ZiehlAbeggFan</td><td class="TableStyle-03_Input_Output-BodyB-Type-LightRows">BOOL</td><td class="TableStyle-03_Input_Output-BodyB-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyA-Description-LightRows">Enable ZiehlAbegg fan management</td></tr></tbody></table><h5>Outputs</h5><p class="InnerTitle">Block pin list</p><table class="TableStyle-03_Input_Output" style="mc-table-style: url('../../../Resources/TableStyles/03_Input_Output.css'); margin-left: 0; margin-right: auto; width: 80%; mc-table-style-original: url('../../../Resources/TableStyles/03_Input_Output.css');" cellspacing="0"><col class="TableStyle-03_Input_Output-Column-Variable" /><col class="TableStyle-03_Input_Output-Column-Type" /><col class="TableStyle-03_Input_Output-Column-UM" /><col class="TableStyle-03_Input_Output-Column-Description" /><thead><tr class="TableStyle-03_Input_Output-Head-Header1"><th class="TableStyle-03_Input_Output-HeadE-Variable-Header1">Variable</th><th class="TableStyle-03_Input_Output-HeadE-Type-Header1">Data types</th><th class="TableStyle-03_Input_Output-HeadE-UM-Header1">UM</th><th class="TableStyle-03_Input_Output-HeadD-Description-Header1">Description </th></tr></thead><tbody><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows"><p>Online_ZA</p></td><td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">BOOL</td><td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Online status</td></tr><tr class="TableStyle-03_Input_Output-Body-DarkerRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">FanSpeedInfo_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">ZIEHLABEGG_FAN_SPEED_INFO</td><td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Fan speed informations</td></tr><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">FanStatus_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">ZIEHLABEGG_FAN_STATUS</td><td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Fan status (working mode, errors)</td></tr><tr class="TableStyle-03_Input_Output-Body-DarkerRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">FanInfo_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">ZIEHLABEGG_FAN_INFO</td><td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Fan informations (Firmware version, product code, etc.)</td></tr><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">FanElectricalInfo_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">ZIEHLABEGG_ELECTRICAL_INFO</td><td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Fan electrical informations</td></tr><tr class="TableStyle-03_Input_Output-Body-DarkerRows"><td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">FanAlrm_ZA</td><td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">ZIEHLABEGG_FAN_ALARM</td><td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td><td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Fan alarms</td></tr><tr class="TableStyle-03_Input_Output-Body-LightRows"><td class="TableStyle-03_Input_Output-BodyB-Variable-LightRows">Al_Offline_ZA</td><td class="TableStyle-03_Input_Output-BodyB-Type-LightRows">BOOL</td><td class="TableStyle-03_Input_Output-BodyB-UM-LightRows">-</td><td class="TableStyle-03_Input_Output-BodyA-Description-LightRows">Offline alarm</td></tr></tbody></table><p>&#160;</p><h5 style="mc-locked: locked;"><a name="Release_Notes"></a>Release notes</h5><p style="mc-locked: locked;">Following are notes on this function/function block released versions:</p><table class="TableStyle-04_Release_Notes" style="width: 80%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/04_Release_Notes.css');" cellspacing="0"><col class="TableStyle-04_Release_Notes-Column-Release" /><col class="TableStyle-04_Release_Notes-Column-Dependecies" /><col class="TableStyle-04_Release_Notes-Column-Notes" /><thead><tr class="TableStyle-04_Release_Notes-Head-Header1"><th class="TableStyle-04_Release_Notes-HeadE-Release-Header1" style="mc-locked: locked;">Release</th><th class="TableStyle-04_Release_Notes-HeadE-Dependecies-Header1" style="mc-locked: locked;">Dependencies</th><th class="TableStyle-04_Release_Notes-HeadD-Notes-Header1" style="mc-locked: locked;">Notes</th></tr></thead><tbody><tr class="TableStyle-04_Release_Notes-Body-LightRows"><td class="TableStyle-04_Release_Notes-BodyB-Release-LightRows">1.0.0</td><td class="TableStyle-04_Release_Notes-BodyB-Dependecies-LightRows">• CAREL_BASIC_LIB_1.2.0</td><td class="TableStyle-04_Release_Notes-BodyA-Notes-LightRows">• First official release<br /><br /><b style="mc-locked: locked;">Fixed</b><br />-<br /><br /><b style="mc-locked: locked;">Changed</b><br />-<br /><br /><b style="mc-locked: locked;">Deprecated</b><br />-<br /><br /><b style="mc-locked: locked;">Enhanced</b><br />-<br /><br /><b>Documentation</b><br />-<br /><br /></td></tr></tbody></table><p>&#160;</p></body>
</html>