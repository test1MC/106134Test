<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="6" MadCap:lastHeight="4178.667" MadCap:lastWidth="975" MadCap:fileTags="AuthorFileTags.CAREL INDUSTRIES&#160;SpA" MadCap:conditions="Translation.ToDo">
    <head>
        <link href="../../../Resources/TableStyles/01_Technical_Features.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Resources/TableStyles/03_Input_Output.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Resources/TableStyles/04_Release_Notes.css" rel="stylesheet" MadCap:stylesheetType="table" /><title></title>
        <link href="../../../Resources/Stylesheets/styles.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h4>SingleRot</h4>
        <p class="descriptionshort">Manages the FIFO rotation of on/off devices</p>
        <p class="descriptionshort">
            <img src="../../../Resources/Images/3_CAREL_Advanced/EASY_ROT_LIB/SingleRot.png" class="OneHundredPercentThumbnail" style="width: 68px;height: 66px;" MadCap:mediastyle="@media print { max-width: 100%; }" />
        </p>
        <p>&#160;</p>
        <h5 style="mc-locked: unlocked;">Technical features</h5>
        <table class="TableStyle-TechFeatures" style="margin-left: 0; margin-right: auto; width: 80%; mc-table-style: url('../../../Resources/TableStyles/01_Technical_Features.css'); mc-table-style-original: url('../../../Resources/TableStyles/01_Technical_Features.css');" cellspacing="0">
            <col class="TableStyle-TechFeatures-Column-Feature" />
            <col class="TableStyle-TechFeatures-Column-Value" />
            <col class="TableStyle-TechFeatures-Column-Notes" />
            <thead>
                <tr class="TableStyle-TechFeatures-Head-Header1">
                    <th class="TableStyle-TechFeatures-HeadE-Feature-Header1">Feature</th>
                    <th class="TableStyle-TechFeatures-HeadE-Value-Header1">Value</th>
                    <th class="TableStyle-TechFeatures-HeadD-Notes-Header1" style="mc-locked: unlocked;">Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr style="height: 25pt;" class="TableStyle-TechFeatures-Body-Row1" MadCap:conditions="CAREL_Hq.Reserved">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: unlocked;" MadCap:conditions="">Last update</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1" MadCap:conditions="">10/03/2016</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1" MadCap:conditions="">Native revision 09/02/2016</td>
                </tr>
                <tr style="height: 25pt;" class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: unlocked;">Program Organization Unit type</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">Function block </td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr style="height: 25pt;" class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: unlocked;">c.suite version</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">≥  2.7.12</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: unlocked;">Hardware</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">c.pCO family controller</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: unlocked;">O.S.</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">≥ 2.7.002</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: unlocked;">Compatibility with other F/FB</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: unlocked;">Compatible CAREL device P/Ns
</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: unlocked;">Device manual</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: unlocked;">Device firmware</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Body1" style="mc-locked: unlocked;">Password</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Body1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Body1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Row1">
                    <td class="TableStyle-TechFeatures-BodyE-Feature-Row1" style="mc-locked: unlocked;">Protocols</td>
                    <td class="TableStyle-TechFeatures-BodyE-Value-Row1">-</td>
                    <td class="TableStyle-TechFeatures-BodyD-Notes-Row1">-</td>
                </tr>
                <tr class="TableStyle-TechFeatures-Body-Body1">
                    <td class="TableStyle-TechFeatures-BodyB-Feature-Body1" style="mc-locked: unlocked;">Footprint</td>
                    <td class="TableStyle-TechFeatures-BodyB-Value-Body1">RAM
: 848 byte<br />Retain:
4 byte<br />Program cycle time: 2 ms<br /></td>
                    <td class="TableStyle-TechFeatures-BodyA-Notes-Body1">-</td>
                </tr>
            </tbody>
        </table>
        <p>&#160;</p>
        <h4>General operations</h4>
        <p>"SingleRot" manages a single circuit, up to 32 on/off devices,  following the FIFO logic.</p>
        <p>The devices requests are reported by output array "<i>ReqDev_SR</i>". </p>
        <p>The number of devices to manage has to be set by input pin "<i>N_Dev_SR</i>"</p>
        <p class="note" MadCap:autonum="&lt;b&gt;&lt;span style=&quot;color: #bed230;&quot; class=&quot;mcFormatColor&quot;&gt;Note &lt;/span&gt;&lt;/b&gt;"> "<i>N_Dev_SR</i>" cannot be updated when the block is enabled.</p>
        <p>Required power, timers, unavailable and alarmed devices can also be modified when the block is enabled.</p>
        <p>&#160;</p>
        <h5>Request management</h5>
        <p>Input pin "<i>StepReq_SR</i>" manages the step requested by the user, which takes values from 0 to 32. To manage the request as percentage, use the library block  "PwrToStep"</p>
        <p>&#160;</p>
        <h5>FIFO (First In First Out) rotation</h5>
        <p>The managements of enabling and disabling of the devices follow the FIFO logic: the first turned on device will be the first turned off, the order start from the device in the first array index till the last, and then restart.</p>
        <p>&#160;</p>
        <p>
            <img src="../../../Resources/Images/3_CAREL_Advanced/EASY_ROT_LIB/FIFO.bmp" style="width: 233px;height: 207px;" />
        </p>
        <p>&#160;</p>
        <h5>Timers</h5>
        <p>Devices timing are managed by "<i>LdUpT_SR</i>" and "<i>LdDwnT_SR</i>" input variables. They are  the delays between  devices turning on/off. This parameters can be modified at runtime; if the new delay time has already passed the next operation, it is immediately executes.</p>
        <p>&#160;</p>
        <p>
            <img src="../../../Resources/Images/3_CAREL_Advanced/EASY_ROT_LIB/ReqGraph.png" style="width: 546px;height: 330px;" />
        </p>
        <p>&#160;</p>
        <h5>Unavailable devices</h5>
        <p>To report a device as "unavailable to start", set its index TRUE in the input array "<i>DevUnavblOn_SR</i>":in this way the device cannot be enabled until it returns available, and it will be turned on the next available device. If the device is already turned on, it will not turned off until the user will do it. When the device becomes a active again, it will be the last to turn on. </p>
        <p>In the same way operates the "unavailability to stop" a device throught input"<i>DevUnavblOff_SR</i>". When the devices will be turned off the order will be the one of turning on request: if the device has been disabled it will be ignored and the next one will be turned off; otherwise, if it has been turned on, it will be turned off following the request of turning on order.<br /><br />See the following example:</p>
        <p>&#160;</p>
        <p>
            <img src="../../../Resources/Images/3_CAREL_Advanced/EASY_ROT_LIB/Unavbl.png" style="width: 247px;height: 313px;" />
        </p>
        <h5>Alarmed devices</h5>
        <p>When a device is in alarm state, it is immediately disabled until the alarm is active, and enabled the next available device. If there aren't available devices, the actual devices status will be less than the required devices state.</p>
        <p>&#160;</p>
        <h5>Enable on and off operations</h5>
        <p>When one of two operations is disabled through "<i>EnOn_SR</i>" and "<i>EnOff_SR</i>", the block will not execute it until it will be enabled; no parameters will be reset.</p>
        <p>&#160;</p>
        <h5>Notification of max power</h5>
        <p>The output "<i>MaxPwr_SR</i>" is TRUE when the rotation enables all the available devices.</p>
        <p>&#160;</p>
        <h5 style="mc-locked: unlocked;">Inputs</h5>
        <p class="InnerTitle" style="mc-locked: unlocked;font-weight: normal;">Block pin list</p>
        <table style="mc-table-style: url('../../../Resources/TableStyles/03_Input_Output.css'); margin-left: 0; margin-right: auto; width: 80%; mc-table-style-original: url('../../../Resources/TableStyles/03_Input_Output.css');" class="TableStyle-03_Input_Output" cellspacing="0">
            <col class="TableStyle-03_Input_Output-Column-Variable" style="width: 148px;" />
            <col class="TableStyle-03_Input_Output-Column-Type" style="width: 131px;" />
            <col class="TableStyle-03_Input_Output-Column-UM" style="width: 69px;" />
            <col class="TableStyle-03_Input_Output-Column-Description" />
            <thead>
                <tr class="TableStyle-03_Input_Output-Head-Header1">
                    <th class="TableStyle-03_Input_Output-HeadE-Variable-Header1">Variable</th>
                    <th class="TableStyle-03_Input_Output-HeadE-Type-Header1">
                        <p>Data type</p>
                    </th>
                    <th class="TableStyle-03_Input_Output-HeadE-UM-Header1">UM</th>
                    <th class="TableStyle-03_Input_Output-HeadD-Description-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-03_Input_Output-Body-LightRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">StepReq_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">REAL</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">%</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Step request</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-DarkerRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">N_Dev_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">USINT</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Number of devices to manage per circuit</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-LightRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">LdUpT_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">UDINT</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">s</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Delay time between two on requests in seconds</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-DarkerRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">LdDwnT_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">UDINT</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">s</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Delay time between two off requests in seconds</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-LightRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">EnOn_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">BOOL</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Enable the turning ON of devices</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-DarkerRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">EnOff_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">BOOL</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Enable the turning OFF of devices</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-LightRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">DevUnavblOff_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">BOOL [1..32]</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Array of devices unavailable to turn OFF</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-DarkerRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-DarkerRows">DevUnavblOn_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-DarkerRows">BOOL [1..32]</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-DarkerRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-DarkerRows">Array of devices unavailable to turn ON</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-LightRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">DevAlm_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">BOOL [1..32]</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Array of devices in alarm status</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-DarkerRows">
                    <td class="TableStyle-03_Input_Output-BodyB-Variable-DarkerRows">En_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyB-Type-DarkerRows">BOOL</td>
                    <td class="TableStyle-03_Input_Output-BodyB-UM-DarkerRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyA-Description-DarkerRows">General block enable</td>
                </tr>
            </tbody>
        </table>
        <p>&#160;</p>
        <h5>Outputs</h5>
        <p class="InnerTitle" style="font-weight: normal;">Block pin list</p>
        <table style="margin-left: 0; margin-right: auto; width: 80%; mc-table-style: url('../../../Resources/TableStyles/03_Input_Output.css'); mc-table-style-original: url('../../../Resources/TableStyles/03_Input_Output.css');" class="TableStyle-03_Input_Output" cellspacing="0">
            <col class="TableStyle-03_Input_Output-Column-Variable" style="width: 183px;" />
            <col class="TableStyle-03_Input_Output-Column-Type" style="width: 74px;" />
            <col class="TableStyle-03_Input_Output-Column-UM" style="width: 39px;" />
            <col class="TableStyle-03_Input_Output-Column-Description" />
            <thead>
                <tr class="TableStyle-03_Input_Output-Head-Header1">
                    <th class="TableStyle-03_Input_Output-HeadE-Variable-Header1">Variable</th>
                    <th class="TableStyle-03_Input_Output-HeadE-Type-Header1">
                        <p>Data type</p>
                    </th>
                    <th class="TableStyle-03_Input_Output-HeadE-UM-Header1">UM</th>
                    <th class="TableStyle-03_Input_Output-HeadD-Description-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-03_Input_Output-Body-LightRows">
                    <td class="TableStyle-03_Input_Output-BodyE-Variable-LightRows">ReqDev_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyE-Type-LightRows">BOOL [1..32]</td>
                    <td class="TableStyle-03_Input_Output-BodyE-UM-LightRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyD-Description-LightRows">Array of devices status</td>
                </tr>
                <tr class="TableStyle-03_Input_Output-Body-DarkerRows">
                    <td class="TableStyle-03_Input_Output-BodyB-Variable-DarkerRows">MaxPwr_SR</td>
                    <td class="TableStyle-03_Input_Output-BodyB-Type-DarkerRows">BOOL</td>
                    <td class="TableStyle-03_Input_Output-BodyB-UM-DarkerRows">-</td>
                    <td class="TableStyle-03_Input_Output-BodyA-Description-DarkerRows">Max power reached notification (of available devices)</td>
                </tr>
            </tbody>
        </table>
        <p>&#160;</p>
        <h5>Example</h5>
        <p>How to interface "PwrToStep" with "SingleRot" function blocks.</p>
        <p>
            <img src="../../../Resources/Images/3_CAREL_Advanced/EASY_ROT_LIB/PwrToStep_Example_Single.PNG" style="width: 928px; height: 328px;" class="OneHundredPercentThumbnail" />
        </p>
        <p>For more information, see "Demo_EASY_ROT_LIB".</p>
        <p>&#160;</p>&#160;<h5 style="mc-locked: unlocked;">Release notes</h5><p style="mc-locked: unlocked;">Following are notes on this function/function block released versions:</p><table class="TableStyle-04_Release_Notes" style="mc-table-style: url('../../../Resources/TableStyles/04_Release_Notes.css'); width: 80%; margin-left: 0; margin-right: auto; mc-table-style-original: url('../../../Resources/TableStyles/04_Release_Notes.css');" cellspacing="0"><col class="TableStyle-04_Release_Notes-Column-Release" /><col class="TableStyle-04_Release_Notes-Column-Dependecies" /><col class="TableStyle-04_Release_Notes-Column-Notes" /><thead><tr class="TableStyle-04_Release_Notes-Head-Header1"><th class="TableStyle-04_Release_Notes-HeadE-Release-Header1" style="mc-unlocked: unlocked;">Release</th><th class="TableStyle-04_Release_Notes-HeadE-Dependecies-Header1" style="mc-unlocked: unlocked;">Dependencies</th><th class="TableStyle-04_Release_Notes-HeadD-Notes-Header1">Notes</th></tr></thead><tbody><tr class="TableStyle-04_Release_Notes-Body-LightRows"><td class="TableStyle-04_Release_Notes-BodyB-Release-LightRows">1.0.0</td><td class="TableStyle-04_Release_Notes-BodyB-Dependecies-LightRows">-</td><td class="TableStyle-04_Release_Notes-BodyA-Notes-LightRows"><p>• First official release</p><p style="font-weight: bold;">Fixed</p><p style="font-weight: normal;">-</p><p style="font-weight: bold;">Deprecated</p><p style="font-weight: normal;">-</p><p style="font-weight: bold;">Enhanced</p><p style="font-weight: normal;">-</p><p style="font-weight: bold;">Documentation</p><p style="font-weight: normal;">-</p></td></tr></tbody></table><p>&#160;</p></body>
</html>